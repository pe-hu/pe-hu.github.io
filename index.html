<!DOCTYPE html>
<html lang="ja">

<head>
    <title>✌︎ for 未来</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="∧° ┐">
    <meta name="description" content="Peace for Future">

    <link rel="icon" href="icon.png">
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="sky.css" />
    <link rel="stylesheet" href="rainbow.css" />
    <link rel="stylesheet" href="fontmotion.css" />

    <style>

    </style>
</head>

<body>
    <header id="header">
        <nav id="nav">
        </nav>
    </header>
    <main id="main" class="sky">
        <h1 class="">
            <span>P</span>
            <span>e</span>
            <span>a</span>
            <span>c</span>
            <span>e</span>
            <span>　</span>
            <span>f</span>
            <span>o</span>
            <span>r</span>
            <span>　</span>
            <span>F</span>
            <span>u</span>
            <span>t</span>
            <span>u</span>
            <span>r</span>
            <span>e</span>
        </h1>
    </main>

    <footer id="weather">
        <div class="weather-info">
            <i class="wi" id="icon"></i>
            <span id="temp"></span><i class="wi wi-celsius"></i>
        </div>
        <ul class="list-inline">
            <li id="name"></li>
            <li id="desc"></li>
        </ul>
    </footer>
    <script type="application/json" id="json-data">
        $(function() {
            $.getJSON("http://api.openweathermap.org/data/2.5/weather?q=Osaka-shi,JP&APPID=557b466129cf7d7427b03e5b7886a4bb", function(data) {
                if (!data.cod || data.cod != 200) {
                    return;
                }

                $("#desc").text(data.weather[0].description);
                $("#temp").text(Math.floor(data.main.temp - 273.15));
                $("#name").text(data.name);

                var id = data.weather[0].id;
                var unixTime = Math.floor((new Date()).getTime() / 1000);
                if (data.sys.sunrise <= unixTime && unixTime <= data.sys.sunset) {
                    $("#icon").addClass("wi-owm-day-" + id);
                } else {
                    $("#icon").addClass("wi-owm-night-" + id);
                }

                $("#weather").show();
            });
        });
    </script>
</body>

</html>